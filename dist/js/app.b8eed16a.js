(function(t){function e(e){for(var o,i,c=e[0],r=e[1],l=e[2],d=0,u=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&u.push(a[i][0]),a[i]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);h&&h(e);while(u.length)u.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,i=1;i<n.length;i++){var c=n[i];0!==a[c]&&(o=!1)}o&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},i={app:0},a={app:0},s=[];function c(t){return r.p+"js/"+({}[t]||t)+"."+{"chunk-48f288db":"08ae955c","chunk-ad2505ca":"547b7449","chunk-33ff8ecc":"f9427859","chunk-729b8309":"a9b7285c"}[t]+".js"}function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.e=function(t){var e=[],n={"chunk-48f288db":1,"chunk-ad2505ca":1,"chunk-33ff8ecc":1,"chunk-729b8309":1};i[t]?e.push(i[t]):0!==i[t]&&n[t]&&e.push(i[t]=new Promise((function(e,n){for(var o="css/"+({}[t]||t)+"."+{"chunk-48f288db":"2040722d","chunk-ad2505ca":"eccfa473","chunk-33ff8ecc":"6c0d6e9c","chunk-729b8309":"769199d9"}[t]+".css",a=r.p+o,s=document.getElementsByTagName("link"),c=0;c<s.length;c++){var l=s[c],d=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(d===o||d===a))return e()}var u=document.getElementsByTagName("style");for(c=0;c<u.length;c++){l=u[c],d=l.getAttribute("data-href");if(d===o||d===a)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var o=e&&e.target&&e.target.src||a,s=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=o,delete i[t],h.parentNode.removeChild(h),n(s)},h.href=a;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){i[t]=0})));var o=a[t];if(0!==o)if(o)e.push(o[2]);else{var s=new Promise((function(e,n){o=a[t]=[e,n]}));e.push(o[2]=s);var l,d=document.createElement("script");d.charset="utf-8",d.timeout=120,r.nc&&d.setAttribute("nonce",r.nc),d.src=c(t);var u=new Error;l=function(e){d.onerror=d.onload=null,clearTimeout(h);var n=a[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),i=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",u.name="ChunkLoadError",u.type=o,u.request=i,n[1](u)}a[t]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:d})}),12e4);d.onerror=d.onload=l,document.head.appendChild(d)}return Promise.all(e)},r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/REPO_NAME/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],d=l.push.bind(l);l.push=e,l=l.slice();for(var u=0;u<l.length;u++)e(l[u]);var h=d;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0483":function(t,e,n){},2811:function(t,e,n){"use strict";var o=n("ce26"),i=n.n(o);i.a},"4d5a":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e623"),n("e379"),n("5dc8"),n("37e1");var o=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},a=[],s=n("2877"),c={},r=Object(s["a"])(c,i,a,!1,null,null,null),l=r.exports,d=(n("d3b7"),n("8c4f")),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-wrapper"},[n("Title",{attrs:{auth:t.auth}}),n("Notes",{attrs:{notes:t.notes,show:t.note.active},on:{"note-showed":t.showNote}}),n("Menu",{attrs:{active:t.note.active,showAdd:t.showAddMenu,showFolders:t.showFoldersMenu,activeFolder:t.activeFolder},on:{"hidden-menu":t.hideMenu,"showed-menu":t.showMenu,"note-created":t.showNote,"note-confirmed":t.confirm,"note-moved":t.moveNote,"note-deleted":t.deleteNote,"entered-folder":t.goTo}}),n("CreateNote",{style:{display:t.note.active?"flex":"none"},attrs:{note:t.note},on:{"added-to-list":t.addToList,"item-completed":t.addCompleteItem,"content-edited":t.editListItem,"item-deleted":t.deleteItem}})],1)},h=[],f=(n("99af"),n("4160"),n("fb6a"),n("b64b"),n("ac1f"),n("25f0"),n("5319"),n("159b"),n("ade3")),p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:["notes-wrapper",{hide:t.show}]},t._l(t.notes,(function(e){return n("div",{key:e.id,staticClass:"note",on:{click:function(){return t.$emit("note-showed",{title:e.title,content:e.content,createdAt:e.createdAt,active:!0})}}},[e.title?n("h3",{staticClass:"title",class:{same:!e.content}},[t._v(" "+t._s(e.title)+" ")]):t._e(),n("p",{staticClass:"text",class:{same:!e.title}},[e.content&&"string"===typeof e.content?n("span",[t._v(t._s(e.content))]):n("ul",{staticClass:"list"},t._l(e.content,(function(e,o){return n("li",{key:o,staticClass:"list-item"},[t._v(t._s(e.content))])})),0)])])})),0)},m=[],v={name:"Notes",props:{notes:Array,show:Boolean}},g=v,b=(n("2811"),Object(s["a"])(g,p,m,!1,null,"94ab9e92",null)),y=b.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"title-wrapper"},[t._m(0),t.auth.loggedIn?n("router-link",{staticClass:"link log-in",style:{backgroundImage:"url(https://firebasestorage.googleapis.com/v0/b/mynotes-36c73.appspot.com/o/man.png?alt=media&token=628c901f-eea0-456b-b16a-9f32005c0338)"},attrs:{to:"/users/"+t.auth.email}}):n("router-link",{staticClass:"link sign-in",attrs:{to:"/login"}},[n("fa-icon",{attrs:{icon:"sign-in-alt"}})],1)],1)},w=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",{staticClass:"title"},[n("span",{staticClass:"title-letter"},[t._v("M")]),t._v("y"),n("span",{staticClass:"title-letter"},[t._v("N")]),t._v("otes")])}],j={name:"Title",props:{auth:Object},data:function(){return{}}},A=j,C=(n("a86c"),Object(s["a"])(A,k,w,!1,null,"0d3b1bbb",null)),N=C.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{class:["menu-wrapper","add",{show:t.showAdd}],style:{transform:t.active?"translateX(calc(-50vw + 48px))":""},on:{mouseleave:function(e){return t.$emit("hidden-menu","add")}}},[n("div",{staticClass:"add-item",style:{transform:t.active?"scale(1)":"",opacity:t.active?"1":""},attrs:{id:"add"},on:{click:function(e){t.active?t.$emit("note-confirmed"):t.$emit("showed-menu","add")}}},[t.active?n("fa-icon",{attrs:{icon:"check"}}):n("fa-icon",{attrs:{icon:"plus"}})],1),n("div",{staticClass:"add-item",on:{click:function(e){return t.$emit("note-created",{title:"",content:"",active:!0})}}},[n("fa-icon",{attrs:{icon:"pen"}})],1),n("div",{staticClass:"add-item",on:{click:function(e){return t.$emit("note-created",{title:"",content:[],active:!0})}}},[n("fa-icon",{attrs:{icon:"stream"}})],1)]),"deleted"===t.activeFolder?n("fragment",[n("div",{staticClass:"move",style:{display:t.active?"flex":"none"},on:{click:function(e){return t.$emit("note-moved","main")}}},[n("fa-icon",{attrs:{icon:"home"}})],1),n("div",{staticClass:"move",style:{display:t.active?"flex":"none"},on:{click:function(e){return t.$emit("note-deleted")}}},[n("fa-icon",{attrs:{icon:"eraser"}})],1)]):n("fragment",t._l(Object.keys(t.icons).filter((function(e){return e!==t.activeFolder})),(function(e,o){return n("div",{key:o,staticClass:"move",style:{display:t.active?"flex":"none"},on:{click:function(n){return t.$emit("note-moved",e)}}},[n("fa-icon",{attrs:{icon:t.icons[e]}})],1)})),0),n("div",{class:["menu-wrapper","folders",{show:t.showFolders}],style:{display:t.active?"none":"flex"},on:{mouseleave:function(e){return t.$emit("hidden-menu","folders")}}},[n("div",{staticClass:"add-item",style:{transform:t.active?"scale(1)":"",opacity:t.active?"1":""},attrs:{id:"add"},on:{click:function(e){return t.$emit("showed-menu","folders")}}},[n("fa-icon",{attrs:{icon:t.icons[t.activeFolder]}})],1),t._l(Object.keys(t.icons).filter((function(e){return e!==t.activeFolder})),(function(e,o){return n("div",{key:o,staticClass:"add-item",on:{click:function(n){return t.$emit("entered-folder",e)}}},[n("fa-icon",{attrs:{icon:t.icons[e]}})],1)}))],2)],1)},$=[],O={name:"Menu",props:{activeFolder:String,active:Boolean,showAdd:Boolean,showFolders:Boolean},data:function(){return{icons:{main:"home",archived:"download",deleted:"trash"}}}},F=O,x=(n("76fd"),Object(s["a"])(F,_,$,!1,null,"248bbb9f",null)),E=x.exports,M=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"create-note-wrapper"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.note.title,expression:"note.title"}],staticClass:"title",attrs:{id:"title",type:"text",placeholder:"Tytuł",autocomplete:"off"},domProps:{value:t.note.title},on:{input:function(e){e.target.composing||t.$set(t.note,"title",e.target.value)}}}),"string"===typeof t.note.content?n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.note.content,expression:"note.content"}],staticClass:"text-note",attrs:{type:"text",placeholder:"Wpisz treść..."},domProps:{value:t.note.content},on:{input:function(e){e.target.composing||t.$set(t.note,"content",e.target.value)}}}):n("div",{staticClass:"list-note"},[n("div",{staticClass:"list",attrs:{id:"list"}},t._l(t.note.content,(function(e,o){return n("div",{key:o,staticClass:"list-item",on:{load:t.scrollToLast}},[e.content?n("fragment",[n("label",{staticClass:"custom-checkbox"},[n("input",{attrs:{type:"checkbox"},domProps:{checked:e.complete},on:{click:function(e){return t.$emit("item-completed",o)}}}),n("span",{staticClass:"checkmark"})]),n("div",{staticClass:"list-item-edit-wrapper"},[n("div",{class:["list-item-content",{complete:e.complete}],attrs:{contenteditable:"true"},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:function(t){return t.preventDefault()}(e)},focusout:function(e){return t.$emit("content-edited",e.target.innerText,o)}}},[t._v(" "+t._s(e.content)+" ")]),n("fa-icon",{staticClass:"bin",attrs:{icon:"times"},on:{mousedown:function(e){return t.$emit("item-deleted",o)}}})],1)]):t._e()],1)})),0),n("input",{staticClass:"list-input",attrs:{id:"list-input",type:"text",autocomplete:"off",placeholder:"Dodaj "+(t.note.content.length+1)+" element..."},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("added-to-list",e.target.value)}}})])])},T=[],z={name:"CreateNote",props:{note:Object},methods:{scrollToLast:function(){console.log("test");var t=document.getElementById("list");t&&t.children[t.children.length-1]&&t.children[t.children.length-1].scrollIntoView({behavior:"smooth"})}}},I=z,P=(n("70a8"),Object(s["a"])(I,M,T,!1,null,"26f85742",null)),S=P.exports,L=n("7a8c"),B={name:"Home",components:{Title:N,Menu:E,CreateNote:S,Notes:y},data:function(){return{allNotes:{},note:{title:"",content:"",active:!1},auth:{loggedIn:!1,photoUrl:"",email:""},action:"",showAddMenu:!1,showFoldersMenu:!1,notes:[],constNotes:{},activeFolder:"main"}},mounted:function(){var t=this;this.$au.onAuthStateChanged((function(e){if(e){console.log("logged in",e);var n=e.photoURL;t.auth={loggedIn:!0,email:e.email,photoURL:n},t.$db.collection("users").doc(e.email).onSnapshot((function(e){var n=e.data().notes[t.activeFolder],o=[];Object.keys(e.data().notes[t.activeFolder]).sort().forEach((function(t){o.push(n[t])})),t.notes=o,t.constNotes=n}))}else{console.log("not logged in");var o=(new Date).getTime();t.allNotes=JSON.parse(JSON.stringify(L).replace(/\[time1\]/g,o).replace(/\[time2\]/g,o+1));var i=t.allNotes[t.activeFolder],a=[];Object.keys(t.allNotes[t.activeFolder]).sort().forEach((function(t){a.push(i[t])})),t.notes=a,t.constNotes=i}}))},methods:{confirm:function(){if(console.log("confirm"),this.note.title||0!==this.note.content.length)if(this.note.createdAt&&this.note.createdAt===this.constNotes[this.note.createdAt].createdAt){var t=this.note.createdAt;if(this.auth.loggetIn)this.$db.collection("users").doc(this.auth.email).update(Object(f["a"])({},"notes.".concat(this.activeFolder,".").concat(t),this.note));else{this.allNotes[this.activeFolder][t]=this.note;var e=this.allNotes[this.activeFolder],n=[];Object.keys(this.allNotes[this.activeFolder]).sort().forEach((function(t){n.push(e[t])})),this.notes=n,this.constNotes=e}}else{var o=Math.round((new Date).getTime()).toString();if(this.note.createdAt=o,this.auth.loggetIn)this.$db.collection("users").doc(this.auth.email).update(Object(f["a"])({},"notes.".concat(this.activeFolder,".").concat(o),this.note));else{this.allNotes[this.activeFolder][o]=this.note;var i=this.allNotes[this.activeFolder],a=[];Object.keys(this.allNotes[this.activeFolder]).sort().forEach((function(t){a.push(i[t])})),this.notes=a,this.constNotes=i}}this.showAddMenu=!1,this.note={title:"",content:"",active:!1}},moveNote:function(t){if(this.note.title||0!==this.note.content.length){if(this.$delete(this.note,"active"),console.log(this.note.createdAt===this.constNotes[this.note.createdAt].createdAt),this.note.createdAt&&this.note.createdAt===this.constNotes[this.note.createdAt].createdAt){var e=this.note.createdAt;this.$db.collection("users").doc(this.auth.email).update(Object(f["a"])({},"notes.".concat(t,".").concat(e),this.note)),this.$db.collection("users").doc(this.auth.email).update(Object(f["a"])({},"notes.".concat(this.activeFolder,".").concat(e),this.$firebase.firestore.FieldValue.delete()))}else{var n=Math.round((new Date).getTime()).toString();this.note.createdAt=n,this.$db.collection("users").doc(this.auth.email).update(Object(f["a"])({},"notes.".concat(t,".").concat(n),this.note))}this.note={title:"",content:"",active:!1}}},deleteNote:function(){if(this.note.title||0!==this.note.content.length){if(this.note.createdAt&&this.note.createdAt===this.constNotes[this.note.createdAt].createdAt){var t=this.note.createdAt;this.$db.collection("users").doc(this.auth.email).update(Object(f["a"])({},"notes.".concat(this.activeFolder,".").concat(t),this.$firebase.firestore.FieldValue.delete()))}this.note={title:"",content:"",active:!1}}},showNote:function(t){this.note=t,this.showAddMenu=!1},showMenu:function(t){this["show".concat(t[0].toUpperCase()+t.slice(1),"Menu")]=!0},hideMenu:function(t){this["show".concat(t[0].toUpperCase()+t.slice(1),"Menu")]=!1},addToList:function(t){t&&(this.note.content.push({content:t,complete:!1}),document.getElementById("list-input").value="")},editListItem:function(t,e){t&&(this.note.content[e].content=t)},addCompleteItem:function(t){this.note.content[t].complete=!this.note.content[t].complete},deleteItem:function(t){console.log("coś",t),this.$delete(this.note.content,t)},goTo:function(t){var e=this;if(this.activeFolder=t,this.auth.loggedIn)this.$db.collection("users").doc(this.auth.email).onSnapshot((function(t){var n=t.data().notes[e.activeFolder],o=[];Object.keys(n).sort().forEach((function(t){return o.push(n[t])})),e.notes=o,e.constNotes=n}));else{var n=this.allNotes[this.activeFolder],o=[];Object.keys(this.allNotes[this.activeFolder]).sort().forEach((function(t){o.push(n[t])})),this.notes=o,this.constNotes=n}this.hideMenu("folders")}}},D=B,U=(n("f353"),Object(s["a"])(D,u,h,!1,null,"7aae45c2",null)),R=U.exports;n("df0f");o["a"].use(d["a"]);var J=[{path:"/",name:"Home",component:R},{path:"/login",name:"Login",component:function(){return Promise.all([n.e("chunk-ad2505ca"),n.e("chunk-729b8309")]).then(n.bind(null,"97c9"))}},{path:"/register",name:"Register",component:function(){return Promise.all([n.e("chunk-ad2505ca"),n.e("chunk-33ff8ecc")]).then(n.bind(null,"df95"))}},{path:"/users/:email",name:"UserProfile",component:function(){return n.e("chunk-48f288db").then(n.bind(null,"e758"))}}],H=new d["a"]({base:"/REPO_NAME/",routes:J}),W=H,q=n("ecee"),V=n("ad3d"),G=n("c074");q["c"].add(G["j"],G["o"],G["n"],G["i"],G["a"],G["e"],G["p"],G["b"],G["f"],G["c"],G["q"],G["g"],G["m"],G["h"],G["d"],G["k"],G["l"]),o["a"].component("fa-icon",V["a"]);var K=n("59ca"),Z=n.n(K),Q=(n("ea7b"),n("e71f"),n("8934"),n("588e"),{apiKey:"AIzaSyAR-duWiLkM6jOFep6bF0AUGZkDWkdoPEg",authDomain:"mynotes-36c73.firebaseapp.com",databaseURL:"https://mynotes-36c73.firebaseio.com",projectId:"mynotes-36c73",storageBucket:"mynotes-36c73.appspot.com",messagingSenderId:"168383913770",appId:"1:168383913770:web:2d902848eb45e234128853",measurementId:"G-Q445ZJWC45"});Z.a.initializeApp(Q),Z.a.firestore().settings({}),o["a"].prototype.$firebase=Z.a,o["a"].prototype.$db=Z.a.firestore(),o["a"].prototype.$au=Z.a.auth(),o["a"].prototype.$auth=Z.a.auth,o["a"].prototype.$fu=Z.a.functions(),o["a"].prototype.$st=Z.a.storage(),Z.a.auth().onAuthStateChanged((function(t){t&&(o["a"].prototype.$user=t)}));var X=n("3f08");o["a"].component("fragment",X["a"]);var Y=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(Y,"px")),window.addEventListener("resize",(function(){var t=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(t,"px"))})),o["a"].config.productionTip=!1,new o["a"]({router:W,render:function(t){return t(l)}}).$mount("#app")},"70a8":function(t,e,n){"use strict";var o=n("0483"),i=n.n(o);i.a},"72b7":function(t,e,n){},"76fd":function(t,e,n){"use strict";var o=n("4d5a"),i=n.n(o);i.a},"7a8c":function(t){t.exports=JSON.parse('{"main":{"[time1]":{"title":"Witaj w MyNotes","content":"Tutaj będziesz mógł tworzyć swoje notatki oraz listy, której przykład znajdziesz obok.\\n\\nŻyczymy owocnej pracy! :)","createdAt":"[time1]"},"[time2]":{"title":"Lista zakupów","content":[{"content":"chleb","complete":false},{"content":"hummus","complete":false},{"content":"pomidory","complete":false},{"content":"ogórek","complete":false},{"content":"papryka (kupione)","complete":true}],"createdAt":"[time2]"}},"archived":{"[time1]":{"title":"Tutaj pojawiać się będą zarchiwizowane notatki","content":"Treść zarchiwizowanej notatki.\\n\\nAby przenieść notatkę do kosza, lub przywrócić ją do folderu głównego, kliknij na odpowiednią ikonkę.","createdAt":"[time1]"}},"deleted":{"[time1]":{"title":"Tutaj pojawiać się będą usunięte notatki","content":"Treść usuniętej notatki.\\n\\nAby usunąć notatkę całkowicie, kliknij na ikonkę gumki, natomiast by przywrócić ją do folderu głównego, kliknij na domek.","createdAt":"[time1]"}}}')},8276:function(t,e,n){},a86c:function(t,e,n){"use strict";var o=n("72b7"),i=n.n(o);i.a},ce26:function(t,e,n){},df0f:function(t,e,n){},f353:function(t,e,n){"use strict";var o=n("8276"),i=n.n(o);i.a}});
//# sourceMappingURL=app.b8eed16a.js.map